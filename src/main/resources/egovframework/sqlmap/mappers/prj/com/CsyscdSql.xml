<?xml version="1.0" encoding="UTF-8"?>									
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"> 

<mapper namespace="CsyscdDAO">									                            

    <select id="CsyscdDAO.retrieveCommCodeMasterList" parameterType="map" resultType="egovMap"> 
        <![CDATA[                                                													
  			 SELECT                                                  											    
                   '0' AS CHK                    	/*CHK*/        		                
	                 , A.CMMN_CD AS COM_CD          /*공통코드*/	
	                 , A.CMMN_CD_NM AS COM_CD_NM    /*공통코드명*/    
	                 , A.USE_YN AS USE_AT           /*사용여부*/
	                 , A.REMK_CTNT 			        /*비고내역*/    
	                 , A.BF_CMMN_CD                  /*이전공통코드*/
	                 , A.FRST_INPUT_ID AS REG_ID    /*최초입력자ID*/    
	                 , A.FRST_INPUT_DT AS REG_DT    /*최초입력일시*/    
	                 , A.FRST_INPUT_MENU_ID         /*최초입력메뉴ID*/    
	                 , A.FRST_INPUT_IP              /*최초입력IP*/    
	                 , A.LAST_MODF_ID AS MOD_ID     /*최종수정입력자ID*/    
	                 , A.LAST_MODF_DT AS MOD_DT     /*최종수정일시*/    
	                 , A.LAST_MODF_MENU_ID          /*최종수정메뉴ID*/    
	                 , A.LAST_MODF_IP               /*최종수정IP*/    
             FROM COM.CSYS100 A                                                                       							 
             WHERE 1=1                                                                                							 
        ]]>                                                      												 
<!--         <if test="CLASS_ID != null and CLASS_ID != ''">     -->
<!--             <![CDATA[                                         							                         -->
<!--                AND A.CLASS_ID        = #{CLASS_ID}   -->
<!--             ]]>                                           													 -->
<!--         </if>    -->
<!--            <if test="CLASS_ID_NM != null and CLASS_ID_NM != ''">     -->
<!--             <![CDATA[                                         							                         -->
<!--                AND A.CLASS_ID_NM LIKE '%' || #{CLASS_ID_NM} || '%'  -->
<!--             ]]>                                           													 -->
<!--         </if>       -->
           <if test="USE_YN != null and USE_YN != ''">    
            <![CDATA[                                         							                        
                AND A.USE_YN  LIKE '%' || #{USE_YN} || '%'   
             ]]>                                           													
         </if>                                                                                                    
        /* CsyscdDAO.retrieveCommCodeMasterList 기초표준코드1 조회 */	                                 
    </select> 
    
    <select id="CsyscdDAO.retrieveCommCodeDetailList" parameterType="map" resultType="egovMap">
		SELECT 
			A.CMMN_CD AS CLASS_ID
			,A.CMMN_DETA_CD AS CD
			,A.CMMN_DETA_CD_NM
			,A.CMMN_DETA_CD_ABBNM 
			,B.LANG_FG_CD 
			,B.LANG_FG_NM AS CD_NM
			,B.LANG_ABBNM
			,B.USE_YN
			,B.REMK_CTNT
			,B.FRST_INPUT_ID
			,B.FRST_INPUT_DT
			,B.FRST_INPUT_MENU_ID
			,B.FRST_INPUT_IP
			,B.LAST_MODF_ID
			,B.LAST_MODF_DT
			,B.LAST_MODF_MENU_ID
			,B.LAST_MODF_IP
		FROM COM.CSYS110 A LEFT JOIN COM.CSYS111 B
		ON A.CMMN_CD =B.CMMN_CD AND A.CMMN_DETA_CD  = B.CMMN_DETA_CD 
		WHERE A.CMMN_CD = #{CLASS_ID}
		/* CsyscdDAO.retrieveCommCodeDetailList 세부코드 조회 */	              
    </select>
    
    <select id="CsyscdDAO.retrieveCommCodeGropList" parameterType="map" resultType="egovMap">
		SELECT 
			A.CMMN_CD
			,A.CMMN_GRP_CD
			,A.CMMN_GRP_CD_NM
			,A.ADD_ATT_VAL
			,A.REMK_WPC
			,B.ADD_ATT_VAL
			,B.SORT_SEQ
			,B.USE_YN
			,B.REMK_WPC
			,B.FRST_INPUT_ID
			,B.FRST_INPUT_DT
			,B.FRST_INPUT_MENU_ID
			,B.FRST_INPUT_IP
			,B.LAST_MODF_ID
			,B.LAST_MODF_DT
			,B.LAST_MODF_MENU_ID
			,B.LAST_MODF_IP
		FROM COM.CSYS120 A LEFT JOIN COM.CSYS121 B 
		ON A.CMMN_CD = B.CMMN_CD AND A.CMMN_GRP_CD = B.CMMN_GRP_CD
		/*CsyscdDAO.retrieveCommCodeGropList 코드 그룹 조회 */	 
    </select>
    
     <insert id="CsyscdDAO.insertCommCodeMasterList" parameterType="map"> 
        <![CDATA[                                                														  
            INSERT INTO COM.CSYS100                                       										  
            (                                       																	  
                   CMMN_CD                    /*공통코드*/ 
                 , CMMN_CD_NM                 /*공통코드명*/ 
                 , USE_YN                      /*사용여부*/ 
                 , FRST_INPUT_ID                      /*등록자*/ 
                 , FRST_INPUT_DT                      /*등록일시*/ 
                 , LAST_MODF_ID                      /*수정자*/ 
                 , LAST_MODF_DT                      /*수정일시*/ 
  
            )VALUES                                                  														
            (                                                        														
                   #{CLASS_ID} 
                 , #{CLASS_ID_NM}   
                 , #{USE_YN}  
                 , #{REG_ID}  
                 , SYSDATE                                   
                 , #{MOD_ID}  
                 , SYSDATE                                   
                                 
            )	                                                      						
        ]]>                                    											
        /* CsyscdDAO.insertCommCodeMasterList 기초표준코드1 저장 */	
    </insert>                                                           					

    <update id="CsyscdDAO.updateCommCodeMasterList" parameterType="map"> 
        <![CDATA[                                                						
            UPDATE COM.CSYS100                                			        
               SET                                                      				
                   CMMN_CD_NM               = #{CLASS_ID_NM}                 /*공통코드명*/  
                 , USE_YN                    = #{USE_YN}                      /*사용여부*/  
                 , FRST_INPUT_ID                    = #{REG_ID}                      /*등록자*/  
                 , FRST_INPUT_DT                    = SYSDATE                        /*등록일시*/  
                 , LAST_MODF_ID                    = #{MOD_ID}                      /*수정자*/  
                 , LAST_MODF_DT                   = SYSDATE                        /*수정일시*/  
             WHERE 1=1                                                   						                        
               AND COM_CD        = #{CLASS_ID}  
        ]]>  	                                   							                            				
        /* CsyscdDAO.updateCommCodeMasterList 기초표준코드1 수정 */								
    </update>	                                                        													                                                           													                                                             													   
</mapper>